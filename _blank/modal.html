<style>
    #ppform {
        position: fixed;
        top: 45%;
        left: 50%;
        padding: 20px 10px;
        margin: -150px 0px 0px -150px;
        display: none;
        opacity: 0;
        z-index: 9999;
    }

    #overlay {
        z-index:9998;
        position:fixed;
        background-color:#000;
        opacity:0.95;
        -moz-opacity:0.95;
        filter:alpha(opacity=95);
        width:100%;
        height:100%;
        top:0;
        left:0;
        display:none;
    }
    .topindex { z-index: 9999; }
    #ppshow { z-index: 999; }
</style>

<script>
    function HidePP() {
        $('#ppform').css('display', 'none');
        $('#overlay').fadeOut(400);
    }

    function ShowPP() {
        $('#overlay').fadeIn(400,
            function(){
                $('#ppform')
                    .css('display', 'block')
                    .animate({opacity: 1, top: '50%'}, 200);
            });
    }

    $(document).ready(function() {
        var winHeight = $(window).height();
        var scrollToElem = $('#ppshow').offset().top - winHeight;
        var scrollToElem2 = $('#pphide').offset().top - winHeight;
        var flpp = false;

        $(window).scroll(function(){

            if(($(this).scrollTop() > scrollToElem) && getCookie('ppForm') != 'true'){
                flpp = true;
                ShowPP();
            }

            if(($(this).scrollTop() < scrollToElem2) && flpp){
                flpp = false;
                HidePP();
            }

        });
    });
</script>

<div id="ppform">
    [[cont]]
</div>
<div id="overlay"></div>